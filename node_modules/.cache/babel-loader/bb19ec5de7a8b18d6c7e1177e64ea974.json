{"ast":null,"code":"import _regeneratorRuntime from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../../../App.css';import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link,Redirect}from\"react-router-dom\";import{Alert,Button,Container,Form,FormGroup,Input,Label,Spinner}from\"reactstrap\";import{api}from\"../../../config\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPoll,faTrashAlt,faPencilAlt}from'@fortawesome/free-solid-svg-icons';import{library}from'@fortawesome/fontawesome-svg-core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";library.add(faPoll,faTrashAlt,faPencilAlt);export var EditarPedido=function EditarPedido(props){var _useState=useState(props.match.params.id),_useState2=_slicedToArray(_useState,1),id=_useState2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),clienteId=_useState4[0],setClienteId=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),servicoId=_useState6[0],setServicoId=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),valor=_useState8[0],setValor=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),dataDoPedido=_useState10[0],setDataDoPedido=_useState10[1];var _useState11=useState({formSave:false,type:'',message:''}),_useState12=_slicedToArray(_useState11,2),status=_useState12[0],setStatus=_useState12[1];var edtPedido=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var headers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setStatus({formSave:true});headers={'Content-Type':'application/json'};_context.next=5;return axios.put(api+\"/editarpedido\",{id:id,clienteId:clienteId,servicoId:servicoId,valor:valor,dataDoPedido:dataDoPedido},{headers:headers}).then(function(response){if(response.data.error){setStatus({formSave:false,type:'error',message:response.data.message});}else{setStatus({formSave:false,type:'success',message:response.data.message});}}).catch(function(){setStatus({formSave:false,type:'error',message:'Erro: Não foi possível acessar a API.'});});case 5:case\"end\":return _context.stop();}}},_callee);}));return function edtPedido(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var getPedido=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(api+\"/pedido/\"+id).then(function(response){setClienteId(response.data.pedido.ClienteId);setServicoId(response.data.pedido.ServicoId);setValor(response.data.pedido.valor);setDataDoPedido(response.data.pedido.data);}).catch(function(){console.log(\"Erro: Não foi possível conectar a API.\");});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getPedido(){return _ref2.apply(this,arguments);};}();getPedido();},[id]);var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),bitaoDeleteIsVisible=_useState14[0],setBitaoDeleteIsVisible=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),bitaoDeleteSimIsVisible=_useState16[0],setBitaoDeleteSimIsVisible=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),bitaoDeleteNaoIsVisible=_useState18[0],setBitaoDeleteNaoIsVisible=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),bitaoDeleteCtzaIsVisible=_useState20[0],setBitaoDeleteCtzaIsVisible=_useState20[1];function mudarBitaoDeleteInvisivel(){setBitaoDeleteIsVisible(!bitaoDeleteIsVisible);}function mudarBitaoDeleteSimInvisivel(){setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible);}function mudarBitaoDeleteNaoInvisivel(){setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible);}function mudarBitaoDeleteCtzaInvisivel(){setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible);}function juntarFunctions(){mudarBitaoDeleteInvisivel();mudarBitaoDeleteSimInvisivel();mudarBitaoDeleteNaoInvisivel();mudarBitaoDeleteCtzaInvisivel();}var _useState21=useState({redirect:false}),_useState22=_slicedToArray(_useState21,2),voltarTabela=_useState22[0],setVoltarTabela=_useState22[1];var apagarPedido=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(idPedido){var headers;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:juntarFunctions();headers={'Content-Type':'application/json'};_context3.next=4;return axios.delete(api+\"/apagarpedido/\"+idPedido,{headers:headers}).then(function(response){console.log(response.data.error);setVoltarTabela({redirect:true});}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível acessar a API.'});});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function apagarPedido(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[voltarTabela.redirect?/*#__PURE__*/_jsx(Redirect,{push:true,to:\"/visualizarpedido\"}):null,/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100 d-flex justify-content-center align-items-center\",style:{marginTop:'1.5%',marginBottom:'2%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex p-2 justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"poll\",className:\"fonte-responsiva-icon\",style:{color:'var(--amarelo)'}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"pencil-alt\",className:\"fonte-responsiva-icon-pequena\",style:{marginLeft:'1em',color:'var(--amarelo)'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fonte-responsiva\",style:{marginLeft:'2%'},children:[id,\" - R$ \",valor]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"pencil-alt\",className:\"fonte-responsiva-icon-pequena\",style:{marginLeft:'1em',color:'var(--amarelo)'}})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 d-flex justify-content-center\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/pedido/\"+id,className:\"d-flex text-center align-items-center btn btn-outline-primary btn-lg\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"poll\",className:\"fonte-responsiva-icon-pequena primary\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 fonte-responsiva-pequena\",children:\"Consultar este pedido\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{marginLeft:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"span\",{onClick:juntarFunctions,className:bitaoDeleteIsVisible?\"d-flex text-center align-items-center btn btn-outline-danger btn-lg\":\"d-flex text-center align-items-center btn btn-outline-danger btn-lg d-none\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"trash-alt\",className:\"fonte-responsiva-icon-pequena danger\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 fonte-responsiva-pequena\",children:\"Excluir este pedido\"})]}),/*#__PURE__*/_jsx(\"span\",{className:bitaoDeleteCtzaIsVisible?\"btn btn-outline-danger btn-lg disabled d-none fonte-responsiva-pequena\":\"btn btn-outline-danger btn-lg disabled fonte-responsiva-pequena\",children:\"Tem certeza?\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return apagarPedido(id);},className:bitaoDeleteSimIsVisible?\"btn btn-outline-danger btn-lg d-none fonte-responsiva-pequena\":\"btn btn-outline-danger btn-lg fonte-responsiva-pequena\",style:{marginLeft:'0.5rem'},children:\"Sim\"}),/*#__PURE__*/_jsx(\"span\",{onClick:juntarFunctions,className:bitaoDeleteNaoIsVisible?\"btn btn-outline-success btn-lg d-none fonte-responsiva-pequena\":\"btn btn-outline-success btn-lg fonte-responsiva-pequena\",style:{marginLeft:'0.5rem'},children:\"N\\xE3o\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-75 m-3 d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-4 border d-flex headerTabela cor-branca\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-2 d-flex justify-content-center align-items-center fonte-responsiva-pequena\",children:/*#__PURE__*/_jsxs(Form,{className:\"w-50 p-2\",onSubmit:edtPedido,children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"p-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"ID Cliente\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"clienteId\",placeholder:\"ID do cliente que fez esse pedido\",value:clienteId,onChange:function onChange(e){return setClienteId(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"p-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"ID Servi\\xE7o\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"servicoId\",placeholder:\"ID do servi\\xE7o solicitado neste pedido\",value:servicoId,onChange:function onChange(e){return setServicoId(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"p-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Valor\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"valor\",placeholder:\"Valor a ser cobrado do cliente\",value:valor,onChange:function onChange(e){return setValor(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"p-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Data\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"dataDoPedido\",placeholder:\"Data do pedido\",value:dataDoPedido,onChange:function onChange(e){return setDataDoPedido(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 d-flex justify-content-center align-items-center\",children:status.formSave?/*#__PURE__*/_jsxs(Button,{type:\"submit\",outline:true,color:\"warning\",disabled:true,children:[/*#__PURE__*/_jsx(Spinner,{children:\"\",style:{width:'1.5rem',height:'1.5rem',marginRight:'0.5rem',color:'primary'}}),'Salvando...']}):/*#__PURE__*/_jsx(Button,{type:\"submit\",outline:true,color:\"warning\",children:\"Salvar Edi\\xE7\\xE3o\"})})]})})})}),status.type==='error'?/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-2 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Alert,{className:\"w-50 d-flex justify-content-center align-items-center\",color:\"danger\",children:status.message})}):\"\",status.type==='success'?/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-2 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Alert,{className:\"w-50 d-flex justify-content-center align-items-center\",color:\"success\",children:status.message})}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",style:{marginBottom:'2%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/visualizarpedido\",className:\"btn btn-outline-primary btn-lg\",children:\"Voltar\"})})})]})})]});};","map":{"version":3,"sources":["F:/DeployTeste/src/pages(view)/Pedido/Editar/index.js"],"names":["axios","useEffect","useState","Link","Redirect","Alert","Button","Container","Form","FormGroup","Input","Label","Spinner","api","FontAwesomeIcon","faPoll","faTrashAlt","faPencilAlt","library","add","EditarPedido","props","match","params","id","clienteId","setClienteId","servicoId","setServicoId","valor","setValor","dataDoPedido","setDataDoPedido","formSave","type","message","status","setStatus","edtPedido","e","preventDefault","headers","put","then","response","data","error","catch","getPedido","get","pedido","ClienteId","ServicoId","console","log","bitaoDeleteIsVisible","setBitaoDeleteIsVisible","bitaoDeleteSimIsVisible","setBitaoDeleteSimIsVisible","bitaoDeleteNaoIsVisible","setBitaoDeleteNaoIsVisible","bitaoDeleteCtzaIsVisible","setBitaoDeleteCtzaIsVisible","mudarBitaoDeleteInvisivel","mudarBitaoDeleteSimInvisivel","mudarBitaoDeleteNaoInvisivel","mudarBitaoDeleteCtzaInvisivel","juntarFunctions","redirect","voltarTabela","setVoltarTabela","apagarPedido","idPedido","delete","marginTop","marginBottom","color","marginLeft","target","value","width","height","marginRight"],"mappings":"4YAAA,MAAO,kBAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,SAAxB,CAAmCC,IAAnC,CAAyCC,SAAzC,CAAoDC,KAApD,CAA2DC,KAA3D,CAAkEC,OAAlE,KAAiF,YAAjF,CACA,OAASC,GAAT,KAAoB,iBAApB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,MAAT,CAAiBC,UAAjB,CAA6BC,WAA7B,KAAgD,mCAAhD,CACA,OAASC,OAAT,KAAwB,mCAAxB,C,wFAEAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ,CAAoBC,UAApB,CAAgCC,WAAhC,EAGA,MAAO,IAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAEnC,cAAanB,QAAQ,CAACmB,KAAK,CAACC,KAAN,CAAYC,MAAZ,CAAmBC,EAApB,CAArB,wCAAOA,EAAP,eAEA,eAAkCtB,QAAQ,CAAC,EAAD,CAA1C,yCAAOuB,SAAP,eAAkBC,YAAlB,eACA,eAAkCxB,QAAQ,CAAC,EAAD,CAA1C,yCAAOyB,SAAP,eAAkBC,YAAlB,eACA,eAA0B1B,QAAQ,CAAC,EAAD,CAAlC,yCAAO2B,KAAP,eAAcC,QAAd,eACA,eAAwC5B,QAAQ,CAAC,EAAD,CAAhD,0CAAO6B,YAAP,gBAAqBC,eAArB,gBAEA,gBAA4B9B,QAAQ,CAAC,CACjC+B,QAAQ,CAAE,KADuB,CAEjCC,IAAI,CAAE,EAF2B,CAGjCC,OAAO,CAAE,EAHwB,CAAD,CAApC,2CAAOC,MAAP,gBAAeC,SAAf,gBAMA,GAAMC,CAAAA,SAAS,0FAAG,iBAAMC,CAAN,8HACdA,CAAC,CAACC,cAAF,GAEAH,SAAS,CAAC,CACNJ,QAAQ,CAAE,IADJ,CAAD,CAAT,CAIMQ,OAPQ,CAOE,CACZ,eAAgB,kBADJ,CAPF,uBAWRzC,CAAAA,KAAK,CAAC0C,GAAN,CAAU7B,GAAG,CAAG,eAAhB,CAAiC,CAAEW,EAAE,CAAFA,EAAF,CAAMC,SAAS,CAATA,SAAN,CAAiBE,SAAS,CAATA,SAAjB,CAA4BE,KAAK,CAALA,KAA5B,CAAmCE,YAAY,CAAZA,YAAnC,CAAjC,CAAoF,CAAEU,OAAO,CAAPA,OAAF,CAApF,EACDE,IADC,CACI,SAACC,QAAD,CAAc,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,KAAlB,CAAyB,CACrBT,SAAS,CAAC,CACNJ,QAAQ,CAAE,KADJ,CAENC,IAAI,CAAE,OAFA,CAGNC,OAAO,CAAES,QAAQ,CAACC,IAAT,CAAcV,OAHjB,CAAD,CAAT,CAKH,CAND,IAMO,CACHE,SAAS,CAAC,CACNJ,QAAQ,CAAE,KADJ,CAENC,IAAI,CAAE,SAFA,CAGNC,OAAO,CAAES,QAAQ,CAACC,IAAT,CAAcV,OAHjB,CAAD,CAAT,CAKH,CACJ,CAfC,EAeCY,KAfD,CAeO,UAAM,CACXV,SAAS,CAAC,CACNJ,QAAQ,CAAE,KADJ,CAENC,IAAI,CAAE,OAFA,CAGNC,OAAO,CAAE,uCAHH,CAAD,CAAT,CAKH,CArBC,CAXQ,uDAAH,kBAATG,CAAAA,SAAS,4CAAf,CAmCArC,SAAS,CAAC,UAAM,CACZ,GAAM+C,CAAAA,SAAS,2FAAG,+JACRhD,CAAAA,KAAK,CAACiD,GAAN,CAAUpC,GAAG,CAAG,UAAN,CAAmBW,EAA7B,EACDmB,IADC,CACI,SAACC,QAAD,CAAc,CAChBlB,YAAY,CAACkB,QAAQ,CAACC,IAAT,CAAcK,MAAd,CAAqBC,SAAtB,CAAZ,CACAvB,YAAY,CAACgB,QAAQ,CAACC,IAAT,CAAcK,MAAd,CAAqBE,SAAtB,CAAZ,CACAtB,QAAQ,CAACc,QAAQ,CAACC,IAAT,CAAcK,MAAd,CAAqBrB,KAAtB,CAAR,CACAG,eAAe,CAACY,QAAQ,CAACC,IAAT,CAAcK,MAAd,CAAqBL,IAAtB,CAAf,CACH,CANC,EAMCE,KAND,CAMO,UAAM,CACXM,OAAO,CAACC,GAAR,CAAY,wCAAZ,EACH,CARC,CADQ,yDAAH,kBAATN,CAAAA,SAAS,2CAAf,CAWAA,SAAS,GACZ,CAbQ,CAaN,CAACxB,EAAD,CAbM,CAAT,CAeA,gBAAwDtB,QAAQ,CAAC,IAAD,CAAhE,2CAAOqD,oBAAP,gBAA6BC,uBAA7B,gBACA,gBAA8DtD,QAAQ,CAAC,IAAD,CAAtE,2CAAOuD,uBAAP,gBAAgCC,0BAAhC,gBACA,gBAA8DxD,QAAQ,CAAC,IAAD,CAAtE,2CAAOyD,uBAAP,gBAAgCC,0BAAhC,gBACA,gBAAgE1D,QAAQ,CAAC,IAAD,CAAxE,2CAAO2D,wBAAP,gBAAiCC,2BAAjC,gBAEA,QAASC,CAAAA,yBAAT,EAAqC,CAAEP,uBAAuB,CAAC,CAACD,oBAAF,CAAvB,CAAgD,CACvF,QAASS,CAAAA,4BAAT,EAAwC,CAAEN,0BAA0B,CAAC,CAACD,uBAAF,CAA1B,CAAsD,CAChG,QAASQ,CAAAA,4BAAT,EAAwC,CAAEL,0BAA0B,CAAC,CAACD,uBAAF,CAA1B,CAAsD,CAChG,QAASO,CAAAA,6BAAT,EAAyC,CAAEJ,2BAA2B,CAAC,CAACD,wBAAF,CAA3B,CAAwD,CAEnG,QAASM,CAAAA,eAAT,EAA2B,CACvBJ,yBAAyB,GACzBC,4BAA4B,GAC5BC,4BAA4B,GAC5BC,6BAA6B,GAChC,CAED,gBAAwChE,QAAQ,CAAC,CAC7CkE,QAAQ,CAAE,KADmC,CAAD,CAAhD,2CAAOC,YAAP,gBAAqBC,eAArB,gBAIA,GAAMC,CAAAA,YAAY,2FAAG,kBAAOC,QAAP,kIAEjBL,eAAe,GAET1B,OAJW,CAID,CACZ,eAAgB,kBADJ,CAJC,wBAQXzC,CAAAA,KAAK,CAACyE,MAAN,CAAa5D,GAAG,CAAG,gBAAN,CAAyB2D,QAAtC,CAAgD,CAAE/B,OAAO,CAAPA,OAAF,CAAhD,EACDE,IADC,CACI,SAACC,QAAD,CAAc,CAChBS,OAAO,CAACC,GAAR,CAAYV,QAAQ,CAACC,IAAT,CAAcC,KAA1B,EACAwB,eAAe,CAAC,CAAEF,QAAQ,CAAE,IAAZ,CAAD,CAAf,CACH,CAJC,EAICrB,KAJD,CAIO,UAAM,CACXV,SAAS,CAAC,CACNH,IAAI,CAAE,OADA,CAENC,OAAO,CAAE,uCAFH,CAAD,CAAT,CAIH,CATC,CARW,yDAAH,kBAAZoC,CAAAA,YAAY,8CAAlB,CAoBA,mBACI,uBACKF,YAAY,CAACD,QAAb,cAAyB,KAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAC,mBAAlB,EAAzB,CAAqE,IAD1E,cAEI,KAAC,SAAD,wBACI,aAAK,SAAS,CAAC,8DAAf,wBACI,YAAK,SAAS,CAAC,wDAAf,CAAwE,KAAK,CAAE,CAAEM,SAAS,CAAE,MAAb,CAAqBC,YAAY,CAAE,IAAnC,CAA/E,uBACI,YAAK,SAAS,CAAC,0FAAf,uBACI,aAAK,SAAS,CAAC,4DAAf,wBACI,kCACI,KAAC,eAAD,EAAiB,IAAI,CAAC,MAAtB,CAA6B,SAAS,CAAC,uBAAvC,CAA+D,KAAK,CAAE,CAAEC,KAAK,CAAE,gBAAT,CAAtE,EADJ,EADJ,cAII,kCACI,KAAC,eAAD,EAAiB,IAAI,CAAC,YAAtB,CAAmC,SAAS,CAAC,+BAA7C,CACI,KAAK,CAAE,CAAEC,UAAU,CAAE,KAAd,CAAqBD,KAAK,CAAE,gBAA5B,CADX,EADJ,EAJJ,cAQI,aAAK,SAAS,CAAC,kBAAf,CAAkC,KAAK,CAAE,CAAEC,UAAU,CAAE,IAAd,CAAzC,WACKrD,EADL,UACeK,KADf,GARJ,cAWI,kCACI,KAAC,eAAD,EAAiB,IAAI,CAAC,YAAtB,CAAmC,SAAS,CAAC,+BAA7C,CACI,KAAK,CAAE,CAAEgD,UAAU,CAAE,KAAd,CAAqBD,KAAK,CAAE,gBAA5B,CADX,EADJ,EAXJ,GADJ,EADJ,EADJ,cAsBI,aAAK,SAAS,CAAC,mCAAf,wBACI,WAAG,IAAI,CAAE,WAAapD,EAAtB,CAA0B,SAAS,CAAC,sEAApC,wBACI,kCACI,KAAC,eAAD,EAAiB,IAAI,CAAC,MAAtB,CAA6B,SAAS,CAAC,uCAAvC,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,8BAAf,mCAJJ,GADJ,cAUI,aAAK,SAAS,CAAC,kDAAf,CAAkE,KAAK,CAAE,CAAEqD,UAAU,CAAE,SAAd,CAAzE,wBACI,cAAM,OAAO,CAAEV,eAAf,CAAgC,SAAS,CAAEZ,oBAAoB,CAAG,qEAAH,CACzD,4EADN,wBAEI,kCACI,KAAC,eAAD,EAAiB,IAAI,CAAC,WAAtB,CAAkC,SAAS,CAAC,sCAA5C,EADJ,EAFJ,cAKI,YAAK,SAAS,CAAC,8BAAf,iCALJ,GADJ,cAWI,aAAM,SAAS,CAAEM,wBAAwB,CAAG,wEAAH,CACnC,iEADN,0BAXJ,cAcI,aAAM,OAAO,CAAE,yBAAMU,CAAAA,YAAY,CAAC/C,EAAD,CAAlB,EAAf,CAAuC,SAAS,CAAEiC,uBAAuB,CAAG,+DAAH,CACnE,wDADN,CACgE,KAAK,CAAE,CAAEoB,UAAU,CAAE,QAAd,CADvE,iBAdJ,cAiBI,aAAM,OAAO,CAAEV,eAAf,CAAgC,SAAS,CAAER,uBAAuB,CAAG,gEAAH,CAC5D,yDADN,CACiE,KAAK,CAAE,CAAEkB,UAAU,CAAE,QAAd,CADxE,oBAjBJ,GAVJ,GAtBJ,cAsDI,YAAK,SAAS,CAAC,iBAAf,uBACI,YAAK,SAAS,CAAC,iDAAf,uBACI,YAAK,SAAS,CAAC,qFAAf,uBACI,MAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CAA2B,QAAQ,CAAEvC,SAArC,wBACI,MAAC,SAAD,EAAW,SAAS,CAAC,KAArB,wBACI,KAAC,KAAD,yBADJ,cAEI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,WAAW,CAAC,mCAAhD,CAAoF,KAAK,CAAEb,SAA3F,CACI,QAAQ,CAAE,kBAAAc,CAAC,QAAIb,CAAAA,YAAY,CAACa,CAAC,CAACuC,MAAF,CAASC,KAAV,CAAhB,EADf,EAFJ,GADJ,cAOI,MAAC,SAAD,EAAW,SAAS,CAAC,KAArB,wBACI,KAAC,KAAD,4BADJ,cAEI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,WAAW,CAAC,0CAAhD,CAAwF,KAAK,CAAEpD,SAA/F,CACI,QAAQ,CAAE,kBAAAY,CAAC,QAAIX,CAAAA,YAAY,CAACW,CAAC,CAACuC,MAAF,CAASC,KAAV,CAAhB,EADf,EAFJ,GAPJ,cAaI,MAAC,SAAD,EAAW,SAAS,CAAC,KAArB,wBACI,KAAC,KAAD,oBADJ,cAEI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,WAAW,CAAC,gCAA5C,CAA6E,KAAK,CAAElD,KAApF,CACI,QAAQ,CAAE,kBAAAU,CAAC,QAAIT,CAAAA,QAAQ,CAACS,CAAC,CAACuC,MAAF,CAASC,KAAV,CAAZ,EADf,EAFJ,GAbJ,cAmBI,MAAC,SAAD,EAAW,SAAS,CAAC,KAArB,wBACI,KAAC,KAAD,mBADJ,cAEI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,cAAxB,CAAuC,WAAW,CAAC,gBAAnD,CAAoE,KAAK,CAAEhD,YAA3E,CACI,QAAQ,CAAE,kBAAAQ,CAAC,QAAIP,CAAAA,eAAe,CAACO,CAAC,CAACuC,MAAF,CAASC,KAAV,CAAnB,EADf,EAFJ,GAnBJ,cAyBI,YAAK,SAAS,CAAC,sDAAf,UACK3C,MAAM,CAACH,QAAP,cAAkB,MAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,KAA7B,CAA8B,KAAK,CAAC,SAApC,CAA8C,QAAQ,KAAtD,wBACf,KAAC,OAAD,EAAS,QAAQ,CAAC,EAAlB,CAAqB,KAAK,CAAE,CAAE+C,KAAK,CAAE,QAAT,CAAmBC,MAAM,CAAE,QAA3B,CAAqCC,WAAW,CAAE,QAAlD,CAA4DN,KAAK,CAAE,SAAnE,CAA5B,EADe,CACgG,aADhG,GAAlB,cAGG,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,KAA7B,CAA8B,KAAK,CAAC,SAApC,iCAJR,EAzBJ,GADJ,EADJ,EADJ,EAtDJ,CA6FKxC,MAAM,CAACF,IAAP,GAAgB,OAAhB,cAA0B,YAAK,SAAS,CAAC,4DAAf,uBACvB,KAAC,KAAD,EAAO,SAAS,CAAC,uDAAjB,CAAyE,KAAK,CAAC,QAA/E,UAAyFE,MAAM,CAACD,OAAhG,EADuB,EAA1B,CAEQ,EA/Fb,CAgGKC,MAAM,CAACF,IAAP,GAAgB,SAAhB,cAA4B,YAAK,SAAS,CAAC,4DAAf,uBACzB,KAAC,KAAD,EAAO,SAAS,CAAC,uDAAjB,CAAyE,KAAK,CAAC,SAA/E,UAA0FE,MAAM,CAACD,OAAjG,EADyB,EAA5B,CAEQ,EAlGb,cAoGI,YAAK,SAAS,CAAC,+BAAf,CAA+C,KAAK,CAAE,CAAEwC,YAAY,CAAE,IAAhB,CAAtD,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,KAAC,IAAD,EAAM,EAAE,CAAE,mBAAV,CAA+B,SAAS,CAAC,gCAAzC,oBADJ,EADJ,EApGJ,GADJ,EAFJ,GADJ,CAiHH,CA3NM","sourcesContent":["import '../../../App.css';\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\"\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { Alert, Button, Container, Form, FormGroup, Input, Label, Spinner } from \"reactstrap\"\r\nimport { api } from \"../../../config\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPoll, faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\n\r\nlibrary.add(faPoll, faTrashAlt, faPencilAlt);\r\n\r\n\r\nexport const EditarPedido = (props) => {\r\n\r\n    const [id] = useState(props.match.params.id);\r\n\r\n    const [clienteId, setClienteId] = useState('');\r\n    const [servicoId, setServicoId] = useState('');\r\n    const [valor, setValor] = useState('');\r\n    const [dataDoPedido, setDataDoPedido] = useState('');\r\n\r\n    const [status, setStatus] = useState({\r\n        formSave: false,\r\n        type: '',\r\n        message: ''\r\n    });\r\n\r\n    const edtPedido = async e => {\r\n        e.preventDefault();\r\n\r\n        setStatus({\r\n            formSave: true\r\n        });\r\n\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n\r\n        await axios.put(api + \"/editarpedido\", { id, clienteId, servicoId, valor, dataDoPedido }, { headers })\r\n            .then((response) => {\r\n                if (response.data.error) {\r\n                    setStatus({\r\n                        formSave: false,\r\n                        type: 'error',\r\n                        message: response.data.message\r\n                    });\r\n                } else {\r\n                    setStatus({\r\n                        formSave: false,\r\n                        type: 'success',\r\n                        message: response.data.message\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                setStatus({\r\n                    formSave: false,\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível acessar a API.'\r\n                })\r\n            })\r\n    };\r\n\r\n    useEffect(() => {\r\n        const getPedido = async () => {\r\n            await axios.get(api + \"/pedido/\" + id)\r\n                .then((response) => {\r\n                    setClienteId(response.data.pedido.ClienteId);\r\n                    setServicoId(response.data.pedido.ServicoId);\r\n                    setValor(response.data.pedido.valor);\r\n                    setDataDoPedido(response.data.pedido.data);\r\n                }).catch(() => {\r\n                    console.log(\"Erro: Não foi possível conectar a API.\")\r\n                });\r\n        }\r\n        getPedido();\r\n    }, [id]);\r\n\r\n    const [bitaoDeleteIsVisible, setBitaoDeleteIsVisible] = useState(true);\r\n    const [bitaoDeleteSimIsVisible, setBitaoDeleteSimIsVisible] = useState(true);\r\n    const [bitaoDeleteNaoIsVisible, setBitaoDeleteNaoIsVisible] = useState(true);\r\n    const [bitaoDeleteCtzaIsVisible, setBitaoDeleteCtzaIsVisible] = useState(true);\r\n\r\n    function mudarBitaoDeleteInvisivel() { setBitaoDeleteIsVisible(!bitaoDeleteIsVisible) }\r\n    function mudarBitaoDeleteSimInvisivel() { setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible) }\r\n    function mudarBitaoDeleteNaoInvisivel() { setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible) }\r\n    function mudarBitaoDeleteCtzaInvisivel() { setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible) }\r\n\r\n    function juntarFunctions() {\r\n        mudarBitaoDeleteInvisivel();\r\n        mudarBitaoDeleteSimInvisivel();\r\n        mudarBitaoDeleteNaoInvisivel();\r\n        mudarBitaoDeleteCtzaInvisivel();\r\n    }\r\n\r\n    const [voltarTabela, setVoltarTabela] = useState({\r\n        redirect: false\r\n    });\r\n\r\n    const apagarPedido = async (idPedido) => {\r\n\r\n        juntarFunctions();\r\n\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n\r\n        await axios.delete(api + \"/apagarpedido/\" + idPedido, { headers })\r\n            .then((response) => {\r\n                console.log(response.data.error);\r\n                setVoltarTabela({ redirect: true })\r\n            }).catch(() => {\r\n                setStatus({\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível acessar a API.'\r\n                })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {voltarTabela.redirect ? (<Redirect push to=\"/visualizarpedido\" />) : null}\r\n            <Container>\r\n                <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                    <div className=\"w-100 d-flex justify-content-center align-items-center\" style={{ marginTop: '1.5%', marginBottom: '2%' }}>\r\n                        <div className=\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\">\r\n                            <div className=\"w-100 d-flex p-2 justify-content-center align-items-center\">\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"poll\" className=\"fonte-responsiva-icon\" style={{ color: 'var(--amarelo)' }} />\r\n                                </div>\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"pencil-alt\" className=\"fonte-responsiva-icon-pequena\"\r\n                                        style={{ marginLeft: '1em', color: 'var(--amarelo)' }} />\r\n                                </div>\r\n                                <div className=\"fonte-responsiva\" style={{ marginLeft: '2%' }}>\r\n                                    {id} - R$ {valor}\r\n                                </div>\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"pencil-alt\" className=\"fonte-responsiva-icon-pequena\"\r\n                                        style={{ marginLeft: '1em', color: 'var(--amarelo)' }} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"p-2 d-flex justify-content-center\">\r\n                        <a href={\"/pedido/\" + id} className=\"d-flex text-center align-items-center btn btn-outline-primary btn-lg\">\r\n                            <div>\r\n                                <FontAwesomeIcon icon=\"poll\" className=\"fonte-responsiva-icon-pequena primary\" />\r\n                            </div>\r\n                            <div className=\"p-2 fonte-responsiva-pequena\">\r\n                                Consultar este pedido\r\n                            </div>\r\n                        </a>\r\n\r\n                        <div className=\"d-flex justify-content-center align-items-center\" style={{ marginLeft: '0.75rem' }}>\r\n                            <span onClick={juntarFunctions} className={bitaoDeleteIsVisible ? \"d-flex text-center align-items-center btn btn-outline-danger btn-lg\"\r\n                                : \"d-flex text-center align-items-center btn btn-outline-danger btn-lg d-none\"}>\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"trash-alt\" className=\"fonte-responsiva-icon-pequena danger\" />\r\n                                </div>\r\n                                <div className=\"p-2 fonte-responsiva-pequena\">\r\n                                    Excluir este pedido\r\n                                </div>\r\n                            </span>\r\n\r\n                            <span className={bitaoDeleteCtzaIsVisible ? \"btn btn-outline-danger btn-lg disabled d-none fonte-responsiva-pequena\"\r\n                                : \"btn btn-outline-danger btn-lg disabled fonte-responsiva-pequena\"}>Tem certeza?</span>\r\n\r\n                            <span onClick={() => apagarPedido(id)} className={bitaoDeleteSimIsVisible ? \"btn btn-outline-danger btn-lg d-none fonte-responsiva-pequena\"\r\n                                : \"btn btn-outline-danger btn-lg fonte-responsiva-pequena\"} style={{ marginLeft: '0.5rem' }}>Sim</span>\r\n\r\n                            <span onClick={juntarFunctions} className={bitaoDeleteNaoIsVisible ? \"btn btn-outline-success btn-lg d-none fonte-responsiva-pequena\"\r\n                                : \"btn btn-outline-success btn-lg fonte-responsiva-pequena\"} style={{ marginLeft: '0.5rem' }}>Não</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"w-75 m-3 d-flex\">\r\n                        <div className=\"w-100 p-4 border d-flex headerTabela cor-branca\">\r\n                            <div className=\"w-100 p-2 d-flex justify-content-center align-items-center fonte-responsiva-pequena\">\r\n                                <Form className=\"w-50 p-2\" onSubmit={edtPedido}>\r\n                                    <FormGroup className=\"p-2\">\r\n                                        <Label>ID Cliente</Label>\r\n                                        <Input type=\"text\" name=\"clienteId\" placeholder=\"ID do cliente que fez esse pedido\" value={clienteId}\r\n                                            onChange={e => setClienteId(e.target.value)}></Input>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup className=\"p-2\">\r\n                                        <Label>ID Serviço</Label>\r\n                                        <Input type=\"text\" name=\"servicoId\" placeholder=\"ID do serviço solicitado neste pedido\" value={servicoId}\r\n                                            onChange={e => setServicoId(e.target.value)}></Input>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup className=\"p-2\">\r\n                                        <Label>Valor</Label>\r\n                                        <Input type=\"text\" name=\"valor\" placeholder=\"Valor a ser cobrado do cliente\" value={valor}\r\n                                            onChange={e => setValor(e.target.value)}></Input>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup className=\"p-2\">\r\n                                        <Label>Data</Label>\r\n                                        <Input type=\"text\" name=\"dataDoPedido\" placeholder=\"Data do pedido\" value={dataDoPedido}\r\n                                            onChange={e => setDataDoPedido(e.target.value)}></Input>\r\n                                    </FormGroup>\r\n\r\n                                    <div className=\"p-2 d-flex justify-content-center align-items-center\">\r\n                                        {status.formSave ? <Button type=\"submit\" outline color=\"warning\" disabled>\r\n                                            <Spinner children=\"\" style={{ width: '1.5rem', height: '1.5rem', marginRight: '0.5rem', color: 'primary' }} />{'Salvando...'}\r\n                                        </Button> :\r\n                                            <Button type=\"submit\" outline color=\"warning\">Salvar Edição</Button>}\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {status.type === 'error' ? <div className=\"w-100 p-2 d-flex justify-content-center align-items-center\">\r\n                        <Alert className=\"w-50 d-flex justify-content-center align-items-center\" color=\"danger\">{status.message}</Alert>\r\n                    </div> : \"\"}\r\n                    {status.type === 'success' ? <div className=\"w-100 p-2 d-flex justify-content-center align-items-center\">\r\n                        <Alert className=\"w-50 d-flex justify-content-center align-items-center\" color=\"success\">{status.message}</Alert>\r\n                    </div> : \"\"}\r\n\r\n                    <div className=\"d-flex justify-content-center\" style={{ marginBottom: '2%' }}>\r\n                        <div className=\"p-2\">\r\n                            <Link to={\"/visualizarpedido\"} className=\"btn btn-outline-primary btn-lg\">Voltar</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}