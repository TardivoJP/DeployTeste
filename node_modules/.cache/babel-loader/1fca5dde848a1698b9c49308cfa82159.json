{"ast":null,"code":"import _regeneratorRuntime from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../../../App.css';import axios from'axios';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{Alert,Container,Table}from\"reactstrap\";import{api}from'../../../config';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faAddressCard}from'@fortawesome/free-solid-svg-icons';import{library}from'@fortawesome/fontawesome-svg-core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";library.add(faAddressCard);export var VisualizarCliente=function VisualizarCliente(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),bitaoDeleteIsVisible=_useState2[0],setBitaoDeleteIsVisible=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),bitaoDeleteSimIsVisible=_useState4[0],setBitaoDeleteSimIsVisible=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),bitaoDeleteNaoIsVisible=_useState6[0],setBitaoDeleteNaoIsVisible=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),bitaoDeleteCtzaIsVisible=_useState8[0],setBitaoDeleteCtzaIsVisible=_useState8[1];function mudarBitaoDeleteInvisivel(){setBitaoDeleteIsVisible(!bitaoDeleteIsVisible);}function mudarBitaoDeleteSimInvisivel(){setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible);}function mudarBitaoDeleteNaoInvisivel(){setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible);}function mudarBitaoDeleteCtzaInvisivel(){setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible);}function juntarFunctions(){mudarBitaoDeleteInvisivel();mudarBitaoDeleteSimInvisivel();mudarBitaoDeleteNaoInvisivel();mudarBitaoDeleteCtzaInvisivel();}var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),data=_useState10[0],setData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),numClientes=_useState12[0],setNumClientes=_useState12[1];var _useState13=useState({type:'',message:''}),_useState14=_slicedToArray(_useState13,2),status=_useState14[0],setStatus=_useState14[1];var getClientes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(api+radio).then(function(response){setData(response.data.clientes);}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível conectar a API.'});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getClientes(){return _ref.apply(this,arguments);};}();useEffect(function(){var getNumClientes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(api+\"/numclientes\").then(function(response){setNumClientes(response.data.clientes);}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível conectar a API.'});});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getNumClientes(){return _ref2.apply(this,arguments);};}();getNumClientes();},[]);var apagarCliente=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(idCliente){var headers;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(idCliente);juntarFunctions();headers={'Content-Type':'application/json'};_context3.next=5;return axios.delete(api+\"/apagarcliente/\"+idCliente,{headers:headers}).then(function(response){console.log(response.data.error);getClientes();}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível acessar a API.'});});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function apagarCliente(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){getClientes();},[]);var _useState15=useState(\"/listaclientes\"),_useState16=_slicedToArray(_useState15,2),radio=_useState16[0],setRadio=_useState16[1];while(radio!==\"/listaclientes\"||radio!==\"/listaclientesnome\"||radio!==\"/listaclientescidade\"||radio!==\"/listaclientesuf\"||radio!==\"/listaclientesidade\"){getClientes();break;}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100 d-flex justify-content-center align-items-center\",style:{marginTop:'2.5%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex p-2 justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"address-card\",className:\"fonte-responsiva-icon\",style:{color:'var(--azul)'}})}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'5%',fontSize:'var(--fontegrande)'},children:\"Tabela dos Clientes\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 d-flex justify-content-center\",style:{marginTop:'2.5%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary disabled\",htmlFor:\"option1\",children:\"Ordenar por\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option1\",autoComplete:\"off\",checked:radio===\"/listaclientes\",value:\"/listaclientes\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option1\",children:\"ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option2\",autoComplete:\"off\",checked:radio===\"/listaclientesnome\",value:\"/listaclientesnome\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option2\",children:\"Nome\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option3\",autoComplete:\"off\",checked:radio===\"/listaclientescidade\",value:\"/listaclientescidade\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option3\",children:\"Cidade\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option4\",autoComplete:\"off\",checked:radio===\"/listaclientesuf\",value:\"/listaclientesuf\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option4\",children:\"UF\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option5\",autoComplete:\"off\",checked:radio===\"/listaclientesidade\",value:\"/listaclientesidade\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option5\",children:\"Nascimento\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 d-flex flex-column\",children:[status.type==='error'?/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:status.message}):\"\",/*#__PURE__*/_jsxs(Table,{striped:true,dark:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Endere\\xE7o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cidade\"}),/*#__PURE__*/_jsx(\"th\",{children:\"UF\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nascimento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Criado em\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:\"3\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.nome}),/*#__PURE__*/_jsx(\"td\",{children:item.endereco}),/*#__PURE__*/_jsx(\"td\",{children:item.cidade}),/*#__PURE__*/_jsx(\"td\",{children:item.uf}),/*#__PURE__*/_jsx(\"td\",{children:item.nascimento}),/*#__PURE__*/_jsx(\"td\",{children:item.createdAt}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cliente/\"+item.id,className:\"btn btn-outline-primary btn-sm\",children:\"Consultar\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/editarcliente/\"+item.id,className:\"btn btn-outline-warning btn-sm\",children:\"Editar\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{onClick:juntarFunctions,className:bitaoDeleteIsVisible?\"btn btn-outline-danger btn-sm\":\"btn btn-outline-danger btn-sm d-none\",children:\"Deletar\"}),/*#__PURE__*/_jsx(\"span\",{className:bitaoDeleteCtzaIsVisible?\"btn btn-outline-danger btn-sm disabled d-none\":\"btn btn-outline-danger btn-sm disabled\",children:\"Tem certeza?\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return apagarCliente(item.id);},className:bitaoDeleteSimIsVisible?\"btn btn-outline-danger btn-sm d-none\":\"btn btn-outline-danger btn-sm\",style:{marginLeft:'0.5rem'},children:\"Sim\"}),/*#__PURE__*/_jsx(\"span\",{onClick:juntarFunctions,className:bitaoDeleteNaoIsVisible?\"btn btn-outline-success btn-sm d-none\":\"btn btn-outline-success btn-sm\",style:{marginLeft:'0.5rem'},children:\"N\\xE3o\"})]})]},item.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center fonte-responsiva-pequena\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"cor-texto-azul\",children:\"N\\xFAmero de clientes\"}),\" - \",numClientes]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/cadastrarcliente\",className:\"btn btn-outline-success btn-lg\",children:\"Criar novo cliente\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center\",style:{marginBottom:'2%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"btn btn-outline-primary btn-lg\",children:\"Voltar\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/visualizarservico\",className:\"btn btn-outline-primary btn-lg\",children:\"Servi\\xE7os\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/visualizarpedido\",className:\"btn btn-outline-primary btn-lg\",children:\"Pedidos\"})})]})]})]})});};","map":{"version":3,"sources":["F:/DeployTeste/src/pages(view)/Cliente/VisualizarCliente/index.js"],"names":["axios","useEffect","useState","Link","Alert","Container","Table","api","FontAwesomeIcon","faAddressCard","library","add","VisualizarCliente","bitaoDeleteIsVisible","setBitaoDeleteIsVisible","bitaoDeleteSimIsVisible","setBitaoDeleteSimIsVisible","bitaoDeleteNaoIsVisible","setBitaoDeleteNaoIsVisible","bitaoDeleteCtzaIsVisible","setBitaoDeleteCtzaIsVisible","mudarBitaoDeleteInvisivel","mudarBitaoDeleteSimInvisivel","mudarBitaoDeleteNaoInvisivel","mudarBitaoDeleteCtzaInvisivel","juntarFunctions","data","setData","numClientes","setNumClientes","type","message","status","setStatus","getClientes","get","radio","then","response","clientes","catch","getNumClientes","apagarCliente","idCliente","console","log","headers","delete","error","setRadio","marginTop","color","marginLeft","fontSize","e","target","value","map","item","id","nome","endereco","cidade","uf","nascimento","createdAt","marginBottom"],"mappings":"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","sourcesContent":["import '../../../App.css';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Alert, Container, Table } from \"reactstrap\";\r\n\r\nimport { api } from '../../../config';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAddressCard } from '@fortawesome/free-solid-svg-icons';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\n\r\nlibrary.add(faAddressCard);\r\n\r\nexport const VisualizarCliente = () => {\r\n\r\n    const [bitaoDeleteIsVisible, setBitaoDeleteIsVisible] = useState(true);\r\n    const [bitaoDeleteSimIsVisible, setBitaoDeleteSimIsVisible] = useState(true);\r\n    const [bitaoDeleteNaoIsVisible, setBitaoDeleteNaoIsVisible] = useState(true);\r\n    const [bitaoDeleteCtzaIsVisible, setBitaoDeleteCtzaIsVisible] = useState(true);\r\n\r\n    function mudarBitaoDeleteInvisivel() { setBitaoDeleteIsVisible(!bitaoDeleteIsVisible) }\r\n    function mudarBitaoDeleteSimInvisivel() { setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible) }\r\n    function mudarBitaoDeleteNaoInvisivel() { setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible) }\r\n    function mudarBitaoDeleteCtzaInvisivel() { setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible) }\r\n\r\n    function juntarFunctions() {\r\n        mudarBitaoDeleteInvisivel();\r\n        mudarBitaoDeleteSimInvisivel();\r\n        mudarBitaoDeleteNaoInvisivel();\r\n        mudarBitaoDeleteCtzaInvisivel();\r\n    }\r\n\r\n    const [data, setData] = useState([]);\r\n\r\n    const [numClientes, setNumClientes] = useState([]);\r\n\r\n    const [status, setStatus] = useState({\r\n        type: '',\r\n        message: ''\r\n    });\r\n\r\n    const getClientes = async () => {\r\n        await axios.get(api + radio)\r\n            .then((response) => {\r\n                setData(response.data.clientes);\r\n            })\r\n            .catch(() => {\r\n                setStatus({\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível conectar a API.'\r\n                })\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getNumClientes = async () => {\r\n            await axios.get(api + \"/numclientes\")\r\n                .then((response) => {\r\n                    setNumClientes(response.data.clientes);\r\n                })\r\n                .catch(() => {\r\n                    setStatus({\r\n                        type: 'error',\r\n                        message: 'Erro: Não foi possível conectar a API.'\r\n                    })\r\n                });\r\n        }\r\n        getNumClientes();\r\n    },[]);\r\n\r\n\r\n    const apagarCliente = async (idCliente) => {\r\n        console.log(idCliente);\r\n\r\n        juntarFunctions();\r\n\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n\r\n        await axios.delete(api + \"/apagarcliente/\" + idCliente, { headers })\r\n            .then((response) => {\r\n                console.log(response.data.error);\r\n                getClientes();\r\n            }).catch(() => {\r\n                setStatus({\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível acessar a API.'\r\n                })\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getClientes();\r\n    }, []);\r\n\r\n\r\n    const [radio, setRadio] = useState(\"/listaclientes\");\r\n\r\n    while ((radio !== \"/listaclientes\") || (radio !== \"/listaclientesnome\") || (radio !== \"/listaclientescidade\") ||\r\n        (radio !== \"/listaclientesuf\") || (radio !== \"/listaclientesidade\")) {\r\n        getClientes();\r\n        break;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <div className=\"w-100 d-flex justify-content-center align-items-center\" style={{ marginTop: '2.5%' }}>\r\n                    <div className=\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\">\r\n                        <div className=\"w-100 d-flex p-2 justify-content-center align-items-center\">\r\n                            <div>\r\n                                <FontAwesomeIcon icon=\"address-card\" className=\"fonte-responsiva-icon\" style={{ color: 'var(--azul)' }} />\r\n                            </div>\r\n                            <div style={{ marginLeft: '5%', fontSize: 'var(--fontegrande)' }}>\r\n                                Tabela dos Clientes\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-2 d-flex justify-content-center\" style={{ marginTop: '2.5%' }}>\r\n                    <div className=\"p-2\">\r\n                        <label className=\"btn btn-outline-primary disabled\" htmlFor=\"option1\">Ordenar por</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option1\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaclientes\"} value=\"/listaclientes\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option1\">ID</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option2\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaclientesnome\"} value=\"/listaclientesnome\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option2\">Nome</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option3\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaclientescidade\"} value=\"/listaclientescidade\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option3\">Cidade</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option4\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaclientesuf\"} value=\"/listaclientesuf\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option4\">UF</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option5\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaclientesidade\"} value=\"/listaclientesidade\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option5\">Nascimento</label>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-2 d-flex flex-column\">\r\n                    {status.type === 'error' ? <Alert color=\"danger\">{status.message}</Alert> : \"\"}\r\n                    <Table striped dark hover>\r\n                        <thead>\r\n                            <tr className=\"text-center\">\r\n                                <th>ID</th>\r\n                                <th>Nome</th>\r\n                                <th>Endereço</th>\r\n                                <th>Cidade</th>\r\n                                <th>UF</th>\r\n                                <th>Nascimento</th>\r\n                                <th>Criado em</th>\r\n                                <th colSpan=\"3\">Ações</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {data.map(item => (\r\n                                <tr className=\"text-center\" key={item.id}>\r\n                                    <td>{item.id}</td>\r\n                                    <td>{item.nome}</td>\r\n                                    <td>{item.endereco}</td>\r\n                                    <td>{item.cidade}</td>\r\n                                    <td>{item.uf}</td>\r\n                                    <td>{item.nascimento}</td>\r\n                                    <td>{item.createdAt}</td>\r\n                                    <td>\r\n                                        <Link to={\"/cliente/\" + item.id} className=\"btn btn-outline-primary btn-sm\">Consultar</Link>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Link to={\"/editarcliente/\" + item.id} className=\"btn btn-outline-warning btn-sm\">Editar</Link>\r\n                                    </td>\r\n                                    <td>\r\n                                        <span onClick={juntarFunctions} className={bitaoDeleteIsVisible ? \"btn btn-outline-danger btn-sm\"\r\n                                            : \"btn btn-outline-danger btn-sm d-none\"}>Deletar</span>\r\n\r\n                                        <span className={bitaoDeleteCtzaIsVisible ? \"btn btn-outline-danger btn-sm disabled d-none\"\r\n                                            : \"btn btn-outline-danger btn-sm disabled\"}>Tem certeza?</span>\r\n\r\n                                        <span onClick={() => apagarCliente(item.id)} className={bitaoDeleteSimIsVisible ? \"btn btn-outline-danger btn-sm d-none\"\r\n                                            : \"btn btn-outline-danger btn-sm\"} style={{ marginLeft: '0.5rem' }}>Sim</span>\r\n\r\n                                        <span onClick={juntarFunctions} className={bitaoDeleteNaoIsVisible ? \"btn btn-outline-success btn-sm d-none\"\r\n                                            : \"btn btn-outline-success btn-sm\"} style={{ marginLeft: '0.5rem' }}>Não</span>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </Table>\r\n\r\n                    <div className=\"text-center fonte-responsiva-pequena\">\r\n                        <span className=\"cor-texto-azul\">Número de clientes</span> - {numClientes}\r\n                    </div>\r\n\r\n                    <div className=\"p-2 d-flex justify-content-center\">\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/cadastrarcliente\" className=\"btn btn-outline-success btn-lg\">Criar novo cliente</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex justify-content-center\" style={{ marginBottom: '2%' }}>\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/\" className=\"btn btn-outline-primary btn-lg\">Voltar</a>\r\n                        </div>\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/visualizarservico\" className=\"btn btn-outline-primary btn-lg\">Serviços</a>\r\n                        </div>\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/visualizarpedido\" className=\"btn btn-outline-primary btn-lg\">Pedidos</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}