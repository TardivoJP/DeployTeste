{"ast":null,"code":"import _regeneratorRuntime from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../../../App.css';import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link,Redirect}from\"react-router-dom\";import{Alert,Button,Container,Form,FormGroup,Input,Label,Spinner}from\"reactstrap\";import{api}from\"../../../config\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faFunnelDollar,faTrashAlt,faPencilAlt}from'@fortawesome/free-solid-svg-icons';import{library}from'@fortawesome/fontawesome-svg-core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";library.add(faFunnelDollar,faTrashAlt,faPencilAlt);export var EditarServico=function EditarServico(props){var _useState=useState(props.match.params.id),_useState2=_slicedToArray(_useState,1),id=_useState2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nome=_useState4[0],setNome=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),descricao=_useState6[0],setDescricao=_useState6[1];var _useState7=useState({formSave:false,type:'',message:''}),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var edtServico=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var headers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setStatus({formSave:true});headers={'Content-Type':'application/json'};_context.next=5;return axios.put(api+\"/editarservico\",{id:id,nome:nome,descricao:descricao},{headers:headers}).then(function(response){if(response.data.error){setStatus({formSave:false,type:'error',message:response.data.message});}else{setStatus({formSave:false,type:'success',message:response.data.message});}}).catch(function(){setStatus({formSave:false,type:'error',message:'Erro: Não foi possível acessar a API.'});});case 5:case\"end\":return _context.stop();}}},_callee);}));return function edtServico(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var getServico=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(api+\"/servico/\"+id).then(function(response){setNome(response.data.servico.nome);setDescricao(response.data.servico.descricao);}).catch(function(){console.log(\"Erro: Não foi possível conectar a API.\");});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getServico(){return _ref2.apply(this,arguments);};}();getServico();},[id]);var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),bitaoDeleteIsVisible=_useState10[0],setBitaoDeleteIsVisible=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),bitaoDeleteSimIsVisible=_useState12[0],setBitaoDeleteSimIsVisible=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),bitaoDeleteNaoIsVisible=_useState14[0],setBitaoDeleteNaoIsVisible=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),bitaoDeleteCtzaIsVisible=_useState16[0],setBitaoDeleteCtzaIsVisible=_useState16[1];function mudarBitaoDeleteInvisivel(){setBitaoDeleteIsVisible(!bitaoDeleteIsVisible);}function mudarBitaoDeleteSimInvisivel(){setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible);}function mudarBitaoDeleteNaoInvisivel(){setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible);}function mudarBitaoDeleteCtzaInvisivel(){setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible);}function juntarFunctions(){mudarBitaoDeleteInvisivel();mudarBitaoDeleteSimInvisivel();mudarBitaoDeleteNaoInvisivel();mudarBitaoDeleteCtzaInvisivel();}var _useState17=useState({redirect:false}),_useState18=_slicedToArray(_useState17,2),voltarTabela=_useState18[0],setVoltarTabela=_useState18[1];var apagarServico=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(idServico){var headers;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:juntarFunctions();headers={'Content-Type':'application/json'};_context3.next=4;return axios.delete(api+\"/apagarservico/\"+idServico,{headers:headers}).then(function(response){console.log(response.data.error);setVoltarTabela({redirect:true});}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível acessar a API.'});});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function apagarServico(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[voltarTabela.redirect?/*#__PURE__*/_jsx(Redirect,{push:true,to:\"/visualizarservico\"}):null,/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100 d-flex justify-content-center align-items-center\",style:{marginTop:'1.5%',marginBottom:'2%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex p-2 justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"funnel-dollar\",className:\"fonte-responsiva-icon\",style:{color:'var(--amarelo)'}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"pencil-alt\",className:\"fonte-responsiva-icon-pequena\",style:{marginLeft:'1em',color:'var(--amarelo)'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fonte-responsiva\",style:{marginLeft:'2%'},children:[id,\" - \",nome]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"pencil-alt\",className:\"fonte-responsiva-icon-pequena\",style:{marginLeft:'1em',color:'var(--amarelo)'}})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 d-flex justify-content-center\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/servico/\"+id,className:\"d-flex text-center align-items-center btn btn-outline-primary btn-lg\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"funnel-dollar\",className:\"fonte-responsiva-icon-pequena primary\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 fonte-responsiva-pequena\",children:\"Consultar este servi\\xE7o\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{marginLeft:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"span\",{onClick:juntarFunctions,className:bitaoDeleteIsVisible?\"d-flex text-center align-items-center btn btn-outline-danger btn-lg\":\"d-flex text-center align-items-center btn btn-outline-danger btn-lg d-none\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"trash-alt\",className:\"fonte-responsiva-icon-pequena danger\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 fonte-responsiva-pequena\",children:\"Excluir este servi\\xE7o\"})]}),/*#__PURE__*/_jsx(\"span\",{className:bitaoDeleteCtzaIsVisible?\"btn btn-outline-danger btn-lg disabled d-none fonte-responsiva-pequena\":\"btn btn-outline-danger btn-lg disabled fonte-responsiva-pequena\",children:\"Tem certeza?\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return apagarServico(id);},className:bitaoDeleteSimIsVisible?\"btn btn-outline-danger btn-lg d-none fonte-responsiva-pequena\":\"btn btn-outline-danger btn-lg fonte-responsiva-pequena\",style:{marginLeft:'0.5rem'},children:\"Sim\"}),/*#__PURE__*/_jsx(\"span\",{onClick:juntarFunctions,className:bitaoDeleteNaoIsVisible?\"btn btn-outline-success btn-lg d-none fonte-responsiva-pequena\":\"btn btn-outline-success btn-lg fonte-responsiva-pequena\",style:{marginLeft:'0.5rem'},children:\"N\\xE3o\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-75 m-3 d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-4 border d-flex headerTabela cor-branca\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-2 d-flex justify-content-center align-items-center fonte-responsiva-pequena\",children:/*#__PURE__*/_jsxs(Form,{className:\"w-50 p-2\",onSubmit:edtServico,children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"p-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Nome\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"nome\",placeholder:\"Nome do servi\\xE7o\",value:nome,onChange:function onChange(e){return setNome(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"p-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"descricao\",placeholder:\"Descri\\xE7\\xE3o do servi\\xE7o\",value:descricao,onChange:function onChange(e){return setDescricao(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 d-flex justify-content-center align-items-center\",children:status.formSave?/*#__PURE__*/_jsxs(Button,{type:\"submit\",outline:true,color:\"warning\",disabled:true,children:[/*#__PURE__*/_jsx(Spinner,{children:\"\",style:{width:'1.5rem',height:'1.5rem',marginRight:'0.5rem',color:'primary'}}),'Salvando...']}):/*#__PURE__*/_jsx(Button,{type:\"submit\",outline:true,color:\"warning\",children:\"Salvar Edi\\xE7\\xE3o\"})})]})})})}),status.type==='error'?/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-2 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Alert,{className:\"w-50 d-flex justify-content-center align-items-center\",color:\"danger\",children:status.message})}):\"\",status.type==='success'?/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-2 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Alert,{className:\"w-50 d-flex justify-content-center align-items-center\",color:\"success\",children:status.message})}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",style:{marginBottom:'2%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/visualizarservico\",className:\"btn btn-outline-primary btn-lg\",children:\"Voltar\"})})})]})})]});};","map":{"version":3,"sources":["F:/DeployTeste/src/pages(view)/Servico/Editar/index.js"],"names":["axios","useEffect","useState","Link","Redirect","Alert","Button","Container","Form","FormGroup","Input","Label","Spinner","api","FontAwesomeIcon","faFunnelDollar","faTrashAlt","faPencilAlt","library","add","EditarServico","props","match","params","id","nome","setNome","descricao","setDescricao","formSave","type","message","status","setStatus","edtServico","e","preventDefault","headers","put","then","response","data","error","catch","getServico","get","servico","console","log","bitaoDeleteIsVisible","setBitaoDeleteIsVisible","bitaoDeleteSimIsVisible","setBitaoDeleteSimIsVisible","bitaoDeleteNaoIsVisible","setBitaoDeleteNaoIsVisible","bitaoDeleteCtzaIsVisible","setBitaoDeleteCtzaIsVisible","mudarBitaoDeleteInvisivel","mudarBitaoDeleteSimInvisivel","mudarBitaoDeleteNaoInvisivel","mudarBitaoDeleteCtzaInvisivel","juntarFunctions","redirect","voltarTabela","setVoltarTabela","apagarServico","idServico","delete","marginTop","marginBottom","color","marginLeft","target","value","width","height","marginRight"],"mappings":"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","sourcesContent":["import '../../../App.css';\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\"\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { Alert, Button, Container, Form, FormGroup, Input, Label, Spinner } from \"reactstrap\"\r\nimport { api } from \"../../../config\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFunnelDollar, faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\n\r\nlibrary.add(faFunnelDollar, faTrashAlt, faPencilAlt);\r\n\r\n\r\nexport const EditarServico = (props) => {\r\n\r\n    const [id] = useState(props.match.params.id);\r\n\r\n    const [nome, setNome] = useState('');\r\n    const [descricao, setDescricao] = useState('');\r\n\r\n    const [status, setStatus] = useState({\r\n        formSave: false,\r\n        type: '',\r\n        message: ''\r\n    });\r\n\r\n    const edtServico = async e => {\r\n        e.preventDefault();\r\n\r\n        setStatus({\r\n            formSave: true\r\n        });\r\n\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n\r\n        await axios.put(api + \"/editarservico\", { id, nome, descricao }, { headers })\r\n            .then((response) => {\r\n                if (response.data.error) {\r\n                    setStatus({\r\n                        formSave: false,\r\n                        type: 'error',\r\n                        message: response.data.message\r\n                    });\r\n                } else {\r\n                    setStatus({\r\n                        formSave: false,\r\n                        type: 'success',\r\n                        message: response.data.message\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                setStatus({\r\n                    formSave: false,\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível acessar a API.'\r\n                })\r\n            })\r\n    };\r\n\r\n    useEffect(() => {\r\n        const getServico = async () => {\r\n            await axios.get(api + \"/servico/\" + id)\r\n                .then((response) => {\r\n                    setNome(response.data.servico.nome);\r\n                    setDescricao(response.data.servico.descricao);\r\n                }).catch(() => {\r\n                    console.log(\"Erro: Não foi possível conectar a API.\")\r\n                });\r\n        }\r\n        getServico();\r\n    }, [id]);\r\n\r\n    const [bitaoDeleteIsVisible, setBitaoDeleteIsVisible] = useState(true);\r\n    const [bitaoDeleteSimIsVisible, setBitaoDeleteSimIsVisible] = useState(true);\r\n    const [bitaoDeleteNaoIsVisible, setBitaoDeleteNaoIsVisible] = useState(true);\r\n    const [bitaoDeleteCtzaIsVisible, setBitaoDeleteCtzaIsVisible] = useState(true);\r\n\r\n    function mudarBitaoDeleteInvisivel() { setBitaoDeleteIsVisible(!bitaoDeleteIsVisible) }\r\n    function mudarBitaoDeleteSimInvisivel() { setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible) }\r\n    function mudarBitaoDeleteNaoInvisivel() { setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible) }\r\n    function mudarBitaoDeleteCtzaInvisivel() { setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible) }\r\n\r\n    function juntarFunctions() {\r\n        mudarBitaoDeleteInvisivel();\r\n        mudarBitaoDeleteSimInvisivel();\r\n        mudarBitaoDeleteNaoInvisivel();\r\n        mudarBitaoDeleteCtzaInvisivel();\r\n    }\r\n\r\n    const [voltarTabela, setVoltarTabela] = useState({\r\n        redirect: false\r\n    });\r\n\r\n    const apagarServico = async (idServico) => {\r\n\r\n        juntarFunctions();\r\n\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n\r\n        await axios.delete(api + \"/apagarservico/\" + idServico, { headers })\r\n            .then((response) => {\r\n                console.log(response.data.error);\r\n                setVoltarTabela({ redirect: true })\r\n            }).catch(() => {\r\n                setStatus({\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível acessar a API.'\r\n                })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {voltarTabela.redirect ? (<Redirect push to=\"/visualizarservico\" />) : null}\r\n            <Container>\r\n                <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                    <div className=\"w-100 d-flex justify-content-center align-items-center\" style={{ marginTop: '1.5%', marginBottom: '2%' }}>\r\n                        <div className=\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\">\r\n                            <div className=\"w-100 d-flex p-2 justify-content-center align-items-center\">\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"funnel-dollar\" className=\"fonte-responsiva-icon\" style={{ color: 'var(--amarelo)' }} />\r\n                                </div>\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"pencil-alt\" className=\"fonte-responsiva-icon-pequena\"\r\n                                        style={{ marginLeft: '1em', color: 'var(--amarelo)' }} />\r\n                                </div>\r\n                                <div className=\"fonte-responsiva\" style={{ marginLeft: '2%' }}>\r\n                                    {id} - {nome}\r\n                                </div>\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"pencil-alt\" className=\"fonte-responsiva-icon-pequena\"\r\n                                        style={{ marginLeft: '1em', color: 'var(--amarelo)' }} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"p-2 d-flex justify-content-center\">\r\n                        <a href={\"/servico/\" + id} className=\"d-flex text-center align-items-center btn btn-outline-primary btn-lg\">\r\n                            <div>\r\n                                <FontAwesomeIcon icon=\"funnel-dollar\" className=\"fonte-responsiva-icon-pequena primary\" />\r\n                            </div>\r\n                            <div className=\"p-2 fonte-responsiva-pequena\">\r\n                                Consultar este serviço\r\n                            </div>\r\n                        </a>\r\n\r\n                        <div className=\"d-flex justify-content-center align-items-center\" style={{ marginLeft: '0.75rem' }}>\r\n                            <span onClick={juntarFunctions} className={bitaoDeleteIsVisible ? \"d-flex text-center align-items-center btn btn-outline-danger btn-lg\"\r\n                                : \"d-flex text-center align-items-center btn btn-outline-danger btn-lg d-none\"}>\r\n                                <div>\r\n                                    <FontAwesomeIcon icon=\"trash-alt\" className=\"fonte-responsiva-icon-pequena danger\" />\r\n                                </div>\r\n                                <div className=\"p-2 fonte-responsiva-pequena\">\r\n                                    Excluir este serviço\r\n                                </div>\r\n                            </span>\r\n\r\n                            <span className={bitaoDeleteCtzaIsVisible ? \"btn btn-outline-danger btn-lg disabled d-none fonte-responsiva-pequena\"\r\n                                : \"btn btn-outline-danger btn-lg disabled fonte-responsiva-pequena\"}>Tem certeza?</span>\r\n\r\n                            <span onClick={() => apagarServico(id)} className={bitaoDeleteSimIsVisible ? \"btn btn-outline-danger btn-lg d-none fonte-responsiva-pequena\"\r\n                                : \"btn btn-outline-danger btn-lg fonte-responsiva-pequena\"} style={{ marginLeft: '0.5rem' }}>Sim</span>\r\n\r\n                            <span onClick={juntarFunctions} className={bitaoDeleteNaoIsVisible ? \"btn btn-outline-success btn-lg d-none fonte-responsiva-pequena\"\r\n                                : \"btn btn-outline-success btn-lg fonte-responsiva-pequena\"} style={{ marginLeft: '0.5rem' }}>Não</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"w-75 m-3 d-flex\">\r\n                        <div className=\"w-100 p-4 border d-flex headerTabela cor-branca\">\r\n                            <div className=\"w-100 p-2 d-flex justify-content-center align-items-center fonte-responsiva-pequena\">\r\n                                <Form className=\"w-50 p-2\" onSubmit={edtServico}>\r\n                                    <FormGroup className=\"p-2\">\r\n                                        <Label>Nome</Label>\r\n                                        <Input type=\"text\" name=\"nome\" placeholder=\"Nome do serviço\" value={nome}\r\n                                            onChange={e => setNome(e.target.value)}></Input>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup className=\"p-2\">\r\n                                        <Label>Descrição</Label>\r\n                                        <Input type=\"text\" name=\"descricao\" placeholder=\"Descrição do serviço\" value={descricao}\r\n                                            onChange={e => setDescricao(e.target.value)}></Input>\r\n                                    </FormGroup>\r\n\r\n                                    <div className=\"p-2 d-flex justify-content-center align-items-center\">\r\n                                        {status.formSave ? <Button type=\"submit\" outline color=\"warning\" disabled>\r\n                                            <Spinner children=\"\" style={{ width: '1.5rem', height: '1.5rem', marginRight: '0.5rem', color: 'primary' }} />{'Salvando...'}\r\n                                        </Button> :\r\n                                            <Button type=\"submit\" outline color=\"warning\">Salvar Edição</Button>}\r\n                                    </div>\r\n\r\n                                </Form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {status.type === 'error' ? <div className=\"w-100 p-2 d-flex justify-content-center align-items-center\">\r\n                        <Alert className=\"w-50 d-flex justify-content-center align-items-center\" color=\"danger\">{status.message}</Alert>\r\n                    </div> : \"\"}\r\n                    {status.type === 'success' ? <div className=\"w-100 p-2 d-flex justify-content-center align-items-center\">\r\n                        <Alert className=\"w-50 d-flex justify-content-center align-items-center\" color=\"success\">{status.message}</Alert>\r\n                    </div> : \"\"}\r\n\r\n                    <div className=\"d-flex justify-content-center\" style={{ marginBottom: '2%' }}>\r\n                        <div className=\"p-2\">\r\n                            <Link to={\"/visualizarservico\"} className=\"btn btn-outline-primary btn-lg\">Voltar</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}