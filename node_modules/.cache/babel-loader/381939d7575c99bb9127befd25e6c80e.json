{"ast":null,"code":"import _regeneratorRuntime from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/DeployTeste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../../../App.css';import axios from'axios';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{Alert,Container,Table}from\"reactstrap\";import{api}from'../../../config';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faFunnelDollar}from'@fortawesome/free-solid-svg-icons';import{library}from'@fortawesome/fontawesome-svg-core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";library.add(faFunnelDollar);export var VisualizarServico=function VisualizarServico(){/* Implementação de um evento para confirmar se o usuário realmente quer deletar algum item da lista\r\n    \r\n    Ou seja, ao clicar no botão \"Deletar serviço\", ele se transforma em uma mensagem perguntando se\r\n    o usuário tem certeza, seguido de dois botões \"Sim\" e \"Não\".\r\n\r\n    Caso o usuário clicar no botão \"Não\", esses três elementos se transformam novamente em um único botão\r\n    \"Deletar serviço\".\r\n\r\n    Caso o usuário clicar no botão \"Sim\", a função apagarServico é executado e o serviço selecionado é excluído\r\n\r\n\r\n    Em síntese, para atinger este efeito, criamos várias contantes para todos os quatro elementos:\r\n    \"Deletar Serviço\", \"Tem certeza?\", \"Sim\" e \"Não\"\r\n    Essas constantes utilizam a função useState do react com a lógica booleana \"true\" ou \"false\"\r\n\r\n    Dessa forma, conseguimos criar uma pequena lógica para controlar a visibilidade desses elementos\r\n\r\n    Inicialmente, apenas o botão \"Deletar Serviço\" está visível, os demais possuem o className \"d-none\" que os\r\n    torna invisíveis, porém, quando o usuário clica neste botão a situação inverte, removemos essa classe dos\r\n    elementos deixando visíveis, e adicionamos \"d-none\" ao botão \"Deletar Serviço\", deixando-o invisível */var _useState=useState(true),_useState2=_slicedToArray(_useState,2),bitaoDeleteIsVisible=_useState2[0],setBitaoDeleteIsVisible=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),bitaoDeleteSimIsVisible=_useState4[0],setBitaoDeleteSimIsVisible=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),bitaoDeleteNaoIsVisible=_useState6[0],setBitaoDeleteNaoIsVisible=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),bitaoDeleteCtzaIsVisible=_useState8[0],setBitaoDeleteCtzaIsVisible=_useState8[1];/* Essa mudança de estado é possível através destas quatro funções abaixo, que manipulam a lógica\r\n    booleana de cada elemento de \"true\" para \"false\" ou vice-versa */function mudarBitaoDeleteInvisivel(){setBitaoDeleteIsVisible(!bitaoDeleteIsVisible);}function mudarBitaoDeleteSimInvisivel(){setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible);}function mudarBitaoDeleteNaoInvisivel(){setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible);}function mudarBitaoDeleteCtzaInvisivel(){setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible);}/* Para simplificar a sintaxe do parametro onClick={} dos botões, criamos uma nova função \"mestre\"\r\n    que chama todas as demais conforme necessário */function juntarFunctions(){mudarBitaoDeleteInvisivel();mudarBitaoDeleteSimInvisivel();mudarBitaoDeleteNaoInvisivel();mudarBitaoDeleteCtzaInvisivel();}var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),data=_useState10[0],setData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),numServicos=_useState12[0],setNumServicos=_useState12[1];var _useState13=useState({type:'',message:''}),_useState14=_slicedToArray(_useState13,2),status=_useState14[0],setStatus=_useState14[1];var getServicos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(api+radio).then(function(response){setData(response.data.servicos);}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível conectar a API.'});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getServicos(){return _ref.apply(this,arguments);};}();useEffect(function(){var getNumServicos=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(api+\"/numservicos\").then(function(response){setNumServicos(response.data.servicos);}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível conectar a API.'});});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getNumServicos(){return _ref2.apply(this,arguments);};}();getNumServicos();},[]);var apagarServico=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(idServico){var headers;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(idServico);/* Pelas mesmas razões expostas em comentários acima, chamamos a função \"juntarFunctions\" para\r\n        simplificar a sintaxe do parametro onClick={}*/juntarFunctions();headers={'Content-Type':'application/json'};_context3.next=5;return axios.delete(api+\"/apagarservico/\"+idServico,{headers:headers}).then(function(response){console.log(response.data.error);getServicos();}).catch(function(){setStatus({type:'error',message:'Erro: Não foi possível acessar a API.'});});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function apagarServico(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){getServicos();},[]);var _useState15=useState(\"/listaservicos\"),_useState16=_slicedToArray(_useState15,2),radio=_useState16[0],setRadio=_useState16[1];while(radio!==\"/listaservicos\"||radio!==\"/listaservicosnome\"||radio!==\"/listaservicosdescricao\"||radio!==\"/listaservicosdata\"){getServicos();break;}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100 d-flex justify-content-center align-items-center\",style:{marginTop:'2.5%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex p-2 justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"funnel-dollar\",className:\"fonte-responsiva-icon\",style:{color:'var(--azul)'}})}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'5%',fontSize:'var(--fontegrande)'},children:\"Tabela dos Servi\\xE7os\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 d-flex justify-content-center\",style:{marginTop:'2.5%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary disabled\",htmlFor:\"option1\",children:\"Ordenar por\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option1\",autoComplete:\"off\",checked:radio===\"/listaservicos\",value:\"/listaservicos\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option1\",children:\"ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option2\",autoComplete:\"off\",checked:radio===\"/listaservicosnome\",value:\"/listaservicosnome\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option2\",children:\"Nome\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option3\",autoComplete:\"off\",checked:radio===\"/listaservicosdescricao\",value:\"/listaservicosdescricao\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option3\",children:\"Descri\\xE7\\xE3o\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"btn-check\",name:\"options\",id:\"option4\",autoComplete:\"off\",checked:radio===\"/listaservicosdata\",value:\"/listaservicosdata\",onChange:function onChange(e){setRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-outline-primary\",htmlFor:\"option4\",children:\"Data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 d-flex flex-column\",children:[status.type==='error'?/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:status.message}):\"\",/*#__PURE__*/_jsxs(Table,{striped:true,dark:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Servi\\xE7o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Criado em\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:\"3\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.nome}),/*#__PURE__*/_jsx(\"td\",{children:item.descricao}),/*#__PURE__*/_jsx(\"td\",{children:item.createdAt}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/servico/\"+item.id,className:\"btn btn-outline-primary btn-sm\",children:\"Consultar\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/editarservico/\"+item.id,className:\"btn btn-outline-warning btn-sm\",children:\"Editar\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{onClick:juntarFunctions,className:bitaoDeleteIsVisible?\"btn btn-outline-danger btn-sm\":\"btn btn-outline-danger btn-sm d-none\",children:\"Deletar\"}),/*#__PURE__*/_jsx(\"span\",{className:bitaoDeleteCtzaIsVisible?\"btn btn-outline-danger btn-sm disabled d-none\":\"btn btn-outline-danger btn-sm disabled\",children:\"Tem certeza?\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return apagarServico(item.id);},className:bitaoDeleteSimIsVisible?\"btn btn-outline-danger btn-sm d-none\":\"btn btn-outline-danger btn-sm\",style:{marginLeft:'0.5rem'},children:\"Sim\"}),/*#__PURE__*/_jsx(\"span\",{onClick:juntarFunctions,className:bitaoDeleteNaoIsVisible?\"btn btn-outline-success btn-sm d-none\":\"btn btn-outline-success btn-sm\",style:{marginLeft:'0.5rem'},children:\"N\\xE3o\"})]})]},item.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center fonte-responsiva-pequena\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"cor-texto-azul\",children:\"N\\xFAmero de servi\\xE7os\"}),\" - \",numServicos]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/cadastrarservico\",className:\"btn btn-outline-success btn-lg\",children:\"Criar novo servi\\xE7o\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center\",style:{marginBottom:'8%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"btn btn-outline-primary btn-lg\",children:\"Voltar\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/visualizarcliente\",className:\"btn btn-outline-primary btn-lg\",children:\"Clientes\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/visualizarpedido\",className:\"btn btn-outline-primary btn-lg\",children:\"Pedidos\"})})]})]})]})});};","map":{"version":3,"sources":["F:/DeployTeste/src/pages(view)/Servico/VisualizarServico/index.js"],"names":["axios","useEffect","useState","Link","Alert","Container","Table","api","FontAwesomeIcon","faFunnelDollar","library","add","VisualizarServico","bitaoDeleteIsVisible","setBitaoDeleteIsVisible","bitaoDeleteSimIsVisible","setBitaoDeleteSimIsVisible","bitaoDeleteNaoIsVisible","setBitaoDeleteNaoIsVisible","bitaoDeleteCtzaIsVisible","setBitaoDeleteCtzaIsVisible","mudarBitaoDeleteInvisivel","mudarBitaoDeleteSimInvisivel","mudarBitaoDeleteNaoInvisivel","mudarBitaoDeleteCtzaInvisivel","juntarFunctions","data","setData","numServicos","setNumServicos","type","message","status","setStatus","getServicos","get","radio","then","response","servicos","catch","getNumServicos","apagarServico","idServico","console","log","headers","delete","error","setRadio","marginTop","color","marginLeft","fontSize","e","target","value","map","item","id","nome","descricao","createdAt","marginBottom"],"mappings":"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","sourcesContent":["import '../../../App.css';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Alert, Container, Table } from \"reactstrap\";\r\n\r\nimport { api } from '../../../config';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFunnelDollar } from '@fortawesome/free-solid-svg-icons';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\n\r\nlibrary.add(faFunnelDollar);\r\n\r\nexport const VisualizarServico = () => {\r\n\r\n\r\n    /* Implementação de um evento para confirmar se o usuário realmente quer deletar algum item da lista\r\n    \r\n    Ou seja, ao clicar no botão \"Deletar serviço\", ele se transforma em uma mensagem perguntando se\r\n    o usuário tem certeza, seguido de dois botões \"Sim\" e \"Não\".\r\n\r\n    Caso o usuário clicar no botão \"Não\", esses três elementos se transformam novamente em um único botão\r\n    \"Deletar serviço\".\r\n\r\n    Caso o usuário clicar no botão \"Sim\", a função apagarServico é executado e o serviço selecionado é excluído\r\n\r\n\r\n    Em síntese, para atinger este efeito, criamos várias contantes para todos os quatro elementos:\r\n    \"Deletar Serviço\", \"Tem certeza?\", \"Sim\" e \"Não\"\r\n    Essas constantes utilizam a função useState do react com a lógica booleana \"true\" ou \"false\"\r\n\r\n    Dessa forma, conseguimos criar uma pequena lógica para controlar a visibilidade desses elementos\r\n\r\n    Inicialmente, apenas o botão \"Deletar Serviço\" está visível, os demais possuem o className \"d-none\" que os\r\n    torna invisíveis, porém, quando o usuário clica neste botão a situação inverte, removemos essa classe dos\r\n    elementos deixando visíveis, e adicionamos \"d-none\" ao botão \"Deletar Serviço\", deixando-o invisível */\r\n    const [bitaoDeleteIsVisible, setBitaoDeleteIsVisible] = useState(true);\r\n    const [bitaoDeleteSimIsVisible, setBitaoDeleteSimIsVisible] = useState(true);\r\n    const [bitaoDeleteNaoIsVisible, setBitaoDeleteNaoIsVisible] = useState(true);\r\n    const [bitaoDeleteCtzaIsVisible, setBitaoDeleteCtzaIsVisible] = useState(true);\r\n\r\n    /* Essa mudança de estado é possível através destas quatro funções abaixo, que manipulam a lógica\r\n    booleana de cada elemento de \"true\" para \"false\" ou vice-versa */\r\n    function mudarBitaoDeleteInvisivel() { setBitaoDeleteIsVisible(!bitaoDeleteIsVisible) }\r\n    function mudarBitaoDeleteSimInvisivel() { setBitaoDeleteSimIsVisible(!bitaoDeleteSimIsVisible) }\r\n    function mudarBitaoDeleteNaoInvisivel() { setBitaoDeleteNaoIsVisible(!bitaoDeleteNaoIsVisible) }\r\n    function mudarBitaoDeleteCtzaInvisivel() { setBitaoDeleteCtzaIsVisible(!bitaoDeleteCtzaIsVisible) }\r\n\r\n    /* Para simplificar a sintaxe do parametro onClick={} dos botões, criamos uma nova função \"mestre\"\r\n    que chama todas as demais conforme necessário */\r\n    function juntarFunctions() {\r\n        mudarBitaoDeleteInvisivel();\r\n        mudarBitaoDeleteSimInvisivel();\r\n        mudarBitaoDeleteNaoInvisivel();\r\n        mudarBitaoDeleteCtzaInvisivel();\r\n    }\r\n\r\n    const [data, setData] = useState([]);\r\n\r\n    const [numServicos, setNumServicos] = useState([]);\r\n\r\n    const [status, setStatus] = useState({\r\n        type: '',\r\n        message: ''\r\n    });\r\n\r\n    const getServicos = async () => {\r\n        await axios.get(api + radio)\r\n            .then((response) => {\r\n                setData(response.data.servicos);\r\n            })\r\n            .catch(() => {\r\n                setStatus({\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível conectar a API.'\r\n                })\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getNumServicos = async () => {\r\n            await axios.get(api + \"/numservicos\")\r\n                .then((response) => {\r\n                    setNumServicos(response.data.servicos);\r\n                })\r\n                .catch(() => {\r\n                    setStatus({\r\n                        type: 'error',\r\n                        message: 'Erro: Não foi possível conectar a API.'\r\n                    })\r\n                });\r\n        }\r\n        getNumServicos();\r\n    },[]);\r\n\r\n    const apagarServico = async (idServico) => {\r\n        console.log(idServico);\r\n\r\n        /* Pelas mesmas razões expostas em comentários acima, chamamos a função \"juntarFunctions\" para\r\n        simplificar a sintaxe do parametro onClick={}*/\r\n        juntarFunctions();\r\n\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        }\r\n\r\n        await axios.delete(api + \"/apagarservico/\" + idServico, { headers })\r\n            .then((response) => {\r\n                console.log(response.data.error);\r\n                getServicos();\r\n            }).catch(() => {\r\n                setStatus({\r\n                    type: 'error',\r\n                    message: 'Erro: Não foi possível acessar a API.'\r\n                })\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getServicos();\r\n    }, []);\r\n\r\n    const [radio, setRadio] = useState(\"/listaservicos\");\r\n\r\n    while ((radio !== \"/listaservicos\") || (radio !== \"/listaservicosnome\") || (radio !== \"/listaservicosdescricao\") ||\r\n        (radio !== \"/listaservicosdata\")) {\r\n        getServicos();\r\n        break;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <div className=\"w-100 d-flex justify-content-center align-items-center\" style={{ marginTop: '2.5%' }}>\r\n                    <div className=\"w-75 p-4 border d-flex justify-content-center align-items-center headerTabela cor-branca\">\r\n                        <div className=\"w-100 d-flex p-2 justify-content-center align-items-center\">\r\n                            <div>\r\n                                <FontAwesomeIcon icon=\"funnel-dollar\" className=\"fonte-responsiva-icon\" style={{ color: 'var(--azul)' }} />\r\n                            </div>\r\n                            <div style={{ marginLeft: '5%', fontSize: 'var(--fontegrande)' }}>\r\n                                Tabela dos Serviços\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-2 d-flex justify-content-center\" style={{ marginTop: '2.5%' }}>\r\n                    <div className=\"p-2\">\r\n                        <label className=\"btn btn-outline-primary disabled\" htmlFor=\"option1\">Ordenar por</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option1\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaservicos\"} value=\"/listaservicos\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option1\">ID</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option2\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaservicosnome\"} value=\"/listaservicosnome\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option2\">Nome</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option3\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaservicosdescricao\"} value=\"/listaservicosdescricao\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option3\">Descrição</label>\r\n                    </div>\r\n                    <div className=\"p-2\">\r\n                        <input type=\"radio\" className=\"btn-check\" name=\"options\" id=\"option4\" autoComplete=\"off\"\r\n                            checked={radio === \"/listaservicosdata\"} value=\"/listaservicosdata\" onChange={(e) => { setRadio(e.target.value) }}></input>\r\n                        <label className=\"btn btn-outline-primary\" htmlFor=\"option4\">Data</label>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-2 d-flex flex-column\">\r\n                    {status.type === 'error' ? <Alert color=\"danger\">{status.message}</Alert> : \"\"}\r\n                    <Table striped dark hover>\r\n                        <thead>\r\n                            <tr className=\"text-center\">\r\n                                <th>ID</th>\r\n                                <th>Serviço</th>\r\n                                <th>Descrição</th>\r\n                                <th>Criado em</th>\r\n                                <th colSpan=\"3\">Ações</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {data.map(item => (\r\n                                <tr className=\"text-center\" key={item.id}>\r\n                                    <td>{item.id}</td>\r\n                                    <td>{item.nome}</td>\r\n                                    <td>{item.descricao}</td>\r\n                                    <td>{item.createdAt}</td>\r\n                                    <td>\r\n                                        <Link to={\"/servico/\" + item.id} className=\"btn btn-outline-primary btn-sm\">Consultar</Link>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Link to={\"/editarservico/\" + item.id} className=\"btn btn-outline-warning btn-sm\">Editar</Link>\r\n                                    </td>\r\n                                    <td>\r\n\r\n                                        {/* Aqui, temos a nossa lógica do botão deletar, note que o className de cada elemento está baseado\r\n                                        em uma lógica condicional if else\r\n                                        \r\n                                        Inicialmente todos estão \"true\", por isso que contém \"d-none\" no final, com a excessão do botão\r\n                                        \"Deletar Serviço\" que é o único visível quando esta página de visualizar serviços é carregada\r\n                                        \r\n                                        Caso o usuário clique nesse botão a situação inverte, e todos ficam \"false\" e novamente apenas\r\n                                        o botão \"Deletar Serviço\" contém \"d-none\" no seu else, assim ele fica invisível enquanto os outros\r\n                                        elementos ficam visíveis*/}\r\n                                        <span onClick={juntarFunctions} className={bitaoDeleteIsVisible ? \"btn btn-outline-danger btn-sm\"\r\n                                            : \"btn btn-outline-danger btn-sm d-none\"}>Deletar</span>\r\n\r\n                                        <span className={bitaoDeleteCtzaIsVisible ? \"btn btn-outline-danger btn-sm disabled d-none\"\r\n                                            : \"btn btn-outline-danger btn-sm disabled\"}>Tem certeza?</span>\r\n\r\n                                        <span onClick={() => apagarServico(item.id)} className={bitaoDeleteSimIsVisible ? \"btn btn-outline-danger btn-sm d-none\"\r\n                                            : \"btn btn-outline-danger btn-sm\"} style={{ marginLeft: '0.5rem' }}>Sim</span>\r\n\r\n                                        <span onClick={juntarFunctions} className={bitaoDeleteNaoIsVisible ? \"btn btn-outline-success btn-sm d-none\"\r\n                                            : \"btn btn-outline-success btn-sm\"} style={{ marginLeft: '0.5rem' }}>Não</span>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </Table>\r\n\r\n                    <div className=\"text-center fonte-responsiva-pequena\">\r\n                        <span className=\"cor-texto-azul\">Número de serviços</span> - {numServicos}\r\n                    </div>\r\n\r\n                    <div className=\"p-2 d-flex justify-content-center\">\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/cadastrarservico\" className=\"btn btn-outline-success btn-lg\">Criar novo serviço</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex justify-content-center\" style={{ marginBottom: '8%' }}>\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/\" className=\"btn btn-outline-primary btn-lg\">Voltar</a>\r\n                        </div>\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/visualizarcliente\" className=\"btn btn-outline-primary btn-lg\">Clientes</a>\r\n                        </div>\r\n                        <div className=\"p-2\">\r\n                            <a href=\"/visualizarpedido\" className=\"btn btn-outline-primary btn-lg\">Pedidos</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}